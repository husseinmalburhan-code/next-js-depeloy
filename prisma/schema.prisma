generator client {
  provider      = "prisma-client-js"
  // Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± ÙŠØ¶ÙŠÙ Ø§Ù„Ø¯Ø¹Ù… Ù„Ø­Ø§Ø³ÙˆØ¨Ùƒ (native) ÙˆÙ„Ø£Ù†Ø¸Ù…Ø© Ù†ØªÙ„ÙÙŠ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
  binaryTargets = ["native", "rhel-openssl-1.0.x", "rhel-openssl-3.0.x"]
}

datasource db {
   provider = "postgresql"
   url      = env("DATABASE_URL")
 }

//datasource db {
 // provider = "sqlserver"
 // url      = env("DATABASE_URL")
//}
// ... Ø§ØªØ±Ùƒ Ø§Ù„Ù€ Models (Employee) ÙƒÙ…Ø§ Ù‡ÙŠ Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±

model Employee {
  id          Int      @id @default(autoincrement())
  fullName    String
  jobTitle    String
  department  String
  email       String?  @unique
  phone       String?
  address     String?
  gender      String?
  birthDate   String?
  manager     String?
  hireDate    String?
  status      String   @default("Ù†Ø´Ø·")
  salary      Float    @default(0)
  bankName    String?
  iban        String?
  avatar      String? 
  //avatar      String? @db.NVarChar(Max)  // ÙÙ‚Ø· ÙÙŠ Ø§Ù„ sql server
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  attendance Attendance[]

  // âœ… Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø±:
  leaves     Leave[]

  payrolls   Payroll[]
custody      Custody[] // ğŸ‘ˆ Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ù„Ø±Ø¨Ø· Ø§Ù„Ù…ÙˆØ¸Ù Ø¨Ø°Ù…ØªÙ‡

  
}
// Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù
model Attendance {
  id        Int      @id @default(autoincrement())
  date      String
  status    String
  
  checkIn   String?
  checkOut  String?
  workHours Float?
  
  employeeId Int
  employee   Employee @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt // âœ… Ø£Ø¹Ø¯Ù†Ø§ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ù„Ù…Ù†Ø¹ Ø§Ù„Ø­Ø°Ù
}

// Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ù„Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù…)
model User {
  id        Int      @id @default(autoincrement())
  name      String   // Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¸Ø§Ù‡Ø± (Ù…Ø«Ù„Ø§Ù‹: Ø¹Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙŠØ±)
  username  String   @unique // Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø¯Ø®ÙˆÙ„ (Ù…Ø«Ù„Ø§Ù‹: admin)
  password  String   // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
  role      String   @default("Ù…Ø´Ø±Ù") // Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: (Ù…Ø³Ø¤ÙˆÙ„ØŒ Ù…Ø´Ø±ÙØŒ Ù…Ø´Ø§Ù‡Ø¯)
  
  createdAt DateTime @default(now())
}

// Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª
model Leave {
  id        Int      @id @default(autoincrement())
  type      String   // Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©: Ø³Ù†ÙˆÙŠØ©ØŒ Ù…Ø±Ø¶ÙŠØ©ØŒ Ø²Ù…Ù†ÙŠØ©
  startDate String   // ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
  endDate   String   // ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹ÙˆØ¯Ø©
  reason    String?  // Ø§Ù„Ø³Ø¨Ø¨
  status    String   @default("Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©") // Ø§Ù„Ø­Ø§Ù„Ø§Øª: Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©ØŒ Ù…Ù‚Ø¨ÙˆÙ„ØŒ Ù…Ø±ÙÙˆØ¶
  
  employeeId Int
  employee   Employee @relation(fields: [employeeId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}


// Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…Ø­Ø¯Ø«
model Payroll {
  id          Int      @id @default(autoincrement())
  month       String   // "2025-01"
  
  basicSalary Float    // Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
  deductions  Float    // Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª (ØºÙŠØ§Ø¨)
  
  // âœ… Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ)
  overtimeHours Float? @default(0) // Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ
  overtimePay   Float? @default(0) // Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚ Ø¹Ù† Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ
  
  bonuses     Float    @default(0) // Ù…ÙƒØ§ÙØ¢Øª Ø£Ø®Ø±Ù‰ ÙŠØ¯ÙˆÙŠØ©
  netSalary   Float    // Ø§Ù„ØµØ§ÙÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
  status      String   @default("Ù…Ø¹Ù„Ù‚") 

  employeeId  Int
  employee    Employee @relation(fields: [employeeId], references: [id], onDelete: Cascade)

  createdAt   DateTime @default(now())
}


// ğŸ‘‡ 1. Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ù„Ù
model Custody {
  id           Int       @id @default(autoincrement())
  itemName     String    // Ø§Ø³Ù… Ø§Ù„ØºØ±Ø¶ (Ù„Ø§Ø¨ØªÙˆØ¨ØŒ Ø³ÙŠØ§Ø±Ø©ØŒ Ù…ÙˆØ¨Ø§ÙŠÙ„)
  description  String?   // ØªÙØ§ØµÙŠÙ„ (Ù„ÙˆÙ†ØŒ Ù…ÙˆØ§ØµÙØ§Øª)
  serialNumber String?   // Ø§Ù„Ø³ÙŠØ±ÙŠØ§Ù„ Ù†Ù…Ø¨Ø± (Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ø°Ù…Ø©)
  status       String    @default("ÙÙŠ Ø§Ù„Ø°Ù…Ø©") // Ø§Ù„Ø­Ø§Ù„Ø©: ÙÙŠ Ø§Ù„Ø°Ù…Ø© | ØªÙ… Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ | ØªØ§Ù„Ù
  
  receivedDate DateTime  @default(now()) // ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
  returnedDate DateTime? // ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ (ÙØ§Ø±Øº ÙŠØ¹Ù†ÙŠ Ø¨Ø¹Ø¯Ù‡ Ø¨Ø°Ù…ØªÙ‡)
  
  notes        String?   // Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ø¶Ø§ÙÙŠØ©

  employeeId   Int
  employee     Employee  @relation(fields: [employeeId], references: [id], onDelete: Cascade)
}